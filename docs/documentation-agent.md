## Правило доступа к шаблонам

- Шаблоны располагаются в `.obsidian/plugins/literary-templates/templates`.
- Доступ выполнять строго через `app.vault.adapter`:
  - `await app.vault.adapter.exists(path)`
  - `await app.vault.adapter.read(path)`
  - `await app.vault.adapter.list(folder)`
- Не использовать `getAbstractFileByPath` для `.obsidian`.
- Все сообщения — только в лог (Console). Notice не использовать.

Если требуется изменить механизм доступа — сначала обновить этот документ и `docs/project.md` (раздел «Правило: Чтение шаблонов из .obsidian»).
## Агент документации: авто‑обновление docs по изменённым модулям

### Назначение
Автоматизировать обновление документации при изменениях исходных модулей: вести `docs/changelog.md`, `docs/tasktracker.md`, актуализировать `docs/project.md` и карточки функционала согласно правилам репозитория.

### Триггеры
- Git: файлы, попавшие в `git diff --name-only` (по умолчанию текущая ветка/последний коммит).
- Сохранение файлов в редакторе: локальные незакоммиченные изменения.

### Область действий
- Пишет без подтверждения (настраиваемо): `docs/changelog.md`, `docs/tasktracker.md`.
- Всегда запрашивает подтверждение: правки в `docs/project.md`, любые изменения в исходниках и карточках функционала.
- Не изменяет параметры сборки, не добавляет фильтры вывода; контент UTF‑8.

### Источники данных
- Диффы изменённых файлов и их содержимое.
- Текущие документы: `docs/*.md`, карточки функционала, правила репозитория.

### Форматы и шаблоны
- Changelog (дата + секции «Добавлено / Изменено / Исправлено»).
- Tasktracker (Название, Статус, Описание, Шаги, Зависимости).
- Project.md (архитектурные изменения, взаимодействия, по необходимости диаграммы Mermaid).
- DocBlock‑шапки файлов (JS/PHP/Pascal) и WP‑header для главного файла плагина.
- Шаблоны для автозаполнения:
  - `docs/_templates/changelog_entry.md`
  - `docs/_templates/tasktracker_entry.md`
  - `docs/_templates/functional_card_update.md`

### Политика подтверждений
- Авто: чтение/анализ, обновления `docs/changelog.md` и `docs/tasktracker.md`.
- Подтверждение: любые правки вне `docs/changelog.md` и `docs/tasktracker.md` (включая `docs/project.md`, карточки функционала, исходники).

### Алгоритм работы
1. Определить изменённые файлы (git/сохранения) и их тип операций: добавлено/изменено/исправлено.
2. Проверить актуальность DocBlock/WordPress‑header согласно правилам.
3. Сформировать записи по шаблонам и подготовить диффы.
4. Запросить подтверждение для требующих подтверждения правок.
5. Применить правки и кратко резюмировать (≤5 пунктов).

### Критерии готовности
- В changelog зафиксированы релевантные изменения по датам и секциям.
- В tasktracker добавлена/обновлена задача с чек‑листом и зависимостями.
- Project.md отражает новые компоненты/взаимодействия (при их появлении).
- Карточки функционала обновлены при изменении поведения.

### Обслуживание и развитие
- Поддерживать актуальность шаблонов в `docs/_templates`.
- Регулярно сверять правила репозитория и стандарты кода/доков.
- Добавлять диаграммы Mermaid при изменениях архитектуры.


