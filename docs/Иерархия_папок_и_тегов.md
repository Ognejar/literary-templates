# Иерархия папок и тегов

## 📁 Стандартная структура проекта

```
{Проект}/
├── 📄 Настройки_мира.md
├── 📄 Настройки_мира.json
├── 📄 README.md
│
├── 📖 1_Рукопись/
│   ├── 📖 Главы/
│   │   ├── 📄 {Глава}.md
│   │   │   └── 🎭 Сцены/
│   │   │       └── 📄 {Сцена}.md
│   │   └── 📄 Главы.md
│   ├── ⚔️ События/
│   │   ├── 📄 {Событие}.md
│   │   └── 📄 События.md
│   ├── 🔥 Конфликты/
│   │   ├── 📄 {Конфликт}.md
│   │   └── 📄 Конфликты.md
│   ├── 🎯 Квесты/
│   │   ├── 📄 {Квест}.md
│   │   └── 📄 Квесты.md
│   └── 📄 1_Рукопись.md
│
├── 🗺️ Локации/
│   ├── 🏛️ Государства/
│   │   ├── 📄 {Государство}.md
│   │   └── 📄 Государства.md
│   ├── 🗺️ Провинции/
│   │   ├── 📄 {Провинция}.md
│   │   └── 📄 Провинции.md
│   ├── 👥 Фракции/
│   │   ├── 📄 {Фракция}.md
│   │   └── 📄 Фракции.md
│   ├── 🛤️ Торговые_пути/
│   │   ├── 📄 {Торговый_путь}.md
│   │   └── 📄 Торговые_пути.md
│   ├── 🏙️ Города/
│   │   ├── 📄 {Город}.md
│   │   └── 📄 Города.md
│   ├── 🏘️ Деревни/
│   │   ├── 📄 {Деревня}.md
│   │   └── 📄 Деревни.md
│   ├── 🏰 Замки/
│   │   ├── 📄 {Замок}.md
│   │   └── 📄 Замки.md
│   ├── ⚓ Порты/
│   │   ├── 📄 {Порт}.md
│   │   └── 📄 Порты.md
│   ├── ⛏️ Шахты/
│   │   ├── 📄 {Шахта}.md
│   │   └── 📄 Шахты.md
│   ├── 🌾 Фермы/
│   │   ├── 📄 {Ферма}.md
│   │   └── 📄 Фермы.md
│   ├── 🏭 Заводы/
│   │   ├── 📄 {Завод}.md
│   │   └── 📄 Заводы.md
│   ├── ☠️ Мёртвые_зоны/
│   │   ├── 📄 {Мёртвая_зона}.md
│   │   └── 📄 Мёртвые_зоны.md
│   └── 📄 Локации.md
│
├── 👤 Персонажи/
│   ├── 📄 {Персонаж}.md
│   └── 📄 Персонажи.md
│
├── 🌍 Народы/
│   ├── 📄 {Народ}.md
│   └── 📄 Народы.md
│
├── 🏢 Организации/
│   ├── 📄 {Организация}.md
│   └── 📄 Организации.md
│
├── ⛪ Религии/
│   ├── 📄 {Религия}.md
│   └── 📄 Религии.md
│
├── 🔮 Культы/
│   ├── 📄 {Культ}.md
│   └── 📄 Культы.md
│
├── 🔮 Магия/
│   ├── 🧪 Зелья/
│   │   ├── 📄 {Зелье}.md
│   │   └── 📄 Зелья.md
│   ├── ✨ Заклинания/
│   │   ├── 📄 {Заклинание}.md
│   │   └── 📄 Заклинания.md
│   ├── 💎 Артефакты/
│   │   ├── 📄 {Артефакт}.md
│   │   └── 📄 Артефакты.md
│   ├── 🧬 Алхимия/
│   │   ├── 📄 {Алхимический_рецепт}.md
│   │   └── 📄 Алхимия.md
│   └── 📄 Магия.md
│
├── 📚 Справочник/
│   ├── 📖 Руководства/
│   │   └── 📄 {Руководство}.md
│   └── 📄 Справочник.md
│
├── ✅ Задачи/
│   ├── 📄 {Задача}.md
│   └── 📄 Задачи.md
│
└── 🖼️ Теговые_картинки/
    ├── 🏛️ Государство.webp
    ├── 🗺️ Провинция.webp
    ├── 👥 Фракция.webp
    ├── 👤 Персонаж.webp
    ├── 🌍 Народ.webp
    ├── 🏢 Организация.webp
    ├── ⛪ Религия.webp
    ├── 🔮 Культ.webp
    ├── 🏙️ Город.webp
    ├── 🏘️ Деревня.webp
    ├── 🏰 Замок.webp
    ├── ⚓ Порт.webp
    ├── ⛏️ Шахта.webp
    ├── 🌾 Ферма.webp
    ├── 🏭 Завод.webp
    ├── ☠️ Мёртвая_зона.webp
    ├── 🧪 Зелье.webp
    ├── ✨ Заклинание.webp
    ├── 💎 Артефакт.webp
    ├── 🧬 Алхимия.webp
    ├── 📖 Глава.webp
    ├── 🎭 Сцена.webp
    ├── ⚔️ Событие.webp
    ├── 🔥 Конфликт.webp
    ├── 🎯 Квест.webp
    └── ✅ Задача.webp
```

## 🏷️ Система тегов

### Основные теги (русские)
- `#государство` - государства и страны
- `#провинция` - административные единицы
- `#фракция` - политические и социальные группы
- `#персонаж` - отдельные личности
- `#народ` - этнические группы и расы
- `#организация` - учреждения и объединения
- `#религия` - религиозные системы
- `#культ` - секты и тайные общества
- `#локация` - все географические объекты
- `#город` - городские поселения
- `#деревня` - сельские поселения
- `#замок` - фортификации и крепости
- `#порт` - морские и речные порты
- `#шахта` - горнодобывающие объекты
- `#ферма` - сельскохозяйственные объекты
- `#завод` - промышленные объекты
- `#мёртвая_зона` - опасные территории
- `#торговый_путь` - торговые маршруты
- `#магия` - все магические объекты
- `#зелье` - магические зелья
- `#заклинание` - магические заклинания
- `#артефакт` - магические артефакты
- `#алхимия` - алхимические рецепты
- `#событие` - исторические события
- `#конфликт` - военные конфликты
- `#квест` - игровые задания
- `#задача` - текущие задачи
- `#глава` - главы рукописи
- `#сцена` - сцены внутри глав
- `#1_рукопись` - все элементы рукописи

### Статусные теги
- `#активный` - активно используемый объект
- `#черновик` - незавершённый объект
- `#архив` - устаревший объект
- `#важно` - ключевой объект для сюжета
- `#секретно` - скрытая информация

### Связующие теги
- `#связан_с_{объект}` - связь с другим объектом
- `#часть_{объект}` - принадлежность к группе
- `#враг_{объект}` - враждебные отношения
- `#союзник_{объект}` - дружественные отношения
- `#локация` - все географические объекты
- `#1_рукопись` - все элементы рукописи

## 📋 Правила именования

### Файлы
- Используйте русские названия
- Заменяйте пробелы на подчёркивания
- Избегайте специальных символов кроме `-` и `_`
- Пример: `Столица_Велюградии.md`

### Папки
- Используйте русские названия
- Заменяйте пробелы на подчёркивания
- Пример: `Мёртвые_зоны/`

### YAML-поля
- Используйте английские названия полей
- Пример: `type: "фракция"`, `created: "2024-12-19"`

## 🔧 Автоматическое создание

### При создании фракции:
1. Файл создаётся в `Локации/Фракции/{Название}.md`
2. Автоматически создаются персонажи в `Персонажи/{Имя}.md`
3. Устанавливаются двусторонние связи

### При создании локации:
1. Файл создаётся в соответствующей подпапке `Локации/{Тип}/{Название}.md`
2. Автоматически добавляется тег `#локация` и `#{тип}`

### При создании главы:
1. Файл создаётся в `1_Рукопись/Главы/{Название}.md`
2. Автоматически создаётся папка `Сцены/` внутри главы
3. Добавляется тег `#глава` и `#1_рукопись`

### При создании сцены:
1. Файл создаётся в `1_Рукопись/Главы/{Глава}/Сцены/{Название}.md`
2. Добавляется тег `#сцена` и `#1_рукопись`

### При создании магического объекта:
1. Файл создаётся в соответствующей подпапке `Магия/{Тип}/{Название}.md`
2. Автоматически добавляется тег `#магия` и `#{тип}`

## 📝 Рекомендации по использованию

1. **Всегда используйте визарды** для создания новых объектов
2. **Проверяйте автоматически созданные связи**
3. **Дополняйте YAML-секции** при необходимости
4. **Используйте теги** для быстрого поиска
5. **Следуйте иерархии папок** для организации

## 🚨 Известные проблемы

- ❌ Фракции создаются в `Локации/Фракции/` (нужно исправить пути)
- ❌ Не все народы имеют правильные свойства
- ❌ Некоторые теги не добавляются автоматически
- ❌ Сцены не создаются внутри глав автоматически

## ✅ Планы по исправлению

- [x] Обновить структуру папок согласно логике пользователя
- [x] Исправить пути создания фракций в `Локации/Фракции/`
- [ ] Добавить автоматические теги во все шаблоны
- [x] Создать миграционный скрипт для существующих файлов
- [x] Добавить автоматические теги во все шаблоны
- [ ] Добавить валидацию структуры проекта
- [ ] Исправить создание сцен внутри глав
