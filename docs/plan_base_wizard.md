# План: Развитие базового класса для визардов (EntityWizardBase.js)

## Цели
- Снизить дублирование кода между визардами
- Упростить добавление новых сущностей
- Повысить стандартизацию UI и логики

## Шаги

1. **Анализ общих функций и UI-элементов**
   - Просмотреть все визарды в creators/ на предмет повторяющихся методов (загрузка файлов, фильтрация, автозаполнение, обработка ошибок, логика dropdown и т.д.).
   - Составить список общих функций и UI-элементов.

2. **Расширение EntityWizardBase.js**
   - Вынести в базовый класс все общие методы (например, loadFilesFromFolder, filterProvincesByState, showDropdown, showInput, showNotice, validateFields).
   - Добавить обработку статусов (loading, error, success) и универсальные методы логирования.
   - Реализовать базовые методы для работы с YAML и шаблонами.

3. **Стандартизация интерфейса**
   - Ввести стандартные методы для создания шагов визарда (addStep, nextStep, prevStep, finishStep).
   - Вынести повторяющиеся UI-компоненты (input, dropdown, preview) в методы базового класса.

4. **Рефакторинг наследников**
   - Перевести все визарды на наследование от EntityWizardBase.js.
   - Удалить дублирующийся код из наследников, использовать только методы базового класса.

5. **Документирование**
   - Описать публичные методы и свойства EntityWizardBase.js через JSDoc.
   - Добавить примеры использования в README.md или отдельном HOWTO.

6. **Тестирование**
   - Проверить работу всех визардов после рефакторинга.
   - Исправить возможные ошибки, связанные с наследованием и переопределением методов.

7. **Поддержка**
   - Все новые визарды должны наследовать EntityWizardBase.js.
   - Общие улучшения вносить только в базовый класс.

---

**Результат:**
- Все визарды используют общий базовый класс.
- Общие методы и UI-элементы реализованы централизованно.
- Добавление новых визардов максимально упрощено.
