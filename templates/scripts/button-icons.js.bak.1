// button-icons.js
console.log('CustomJS: button-icons.js –∑–∞–≥—Ä—É–∂–µ–Ω! ***************');
class ButtonIconManager {
    constructor() {
        this.initialized = false;
    }
console.log('CustomJS: button-icons.js –∑–∞–≥—Ä—É–∂–µ–Ω! ***************');
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏–∫–æ–Ω–æ–∫
    async init() {
        if (this.initialized) return;
        
        console.log('ButtonIconManager initialized');
        this.replaceButtonIcons();
        this.initialized = true;
    }

    // –ó–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫ –Ω–∞ –∏–∫–æ–Ω–∫–∏
    replaceButtonIcons() {
        setTimeout(() => {
            const buttons = document.querySelectorAll('.custom-world-button');
            
            buttons.forEach(button => {
                if (button.querySelector('img')) return; // –£–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞
                
                const icon = document.createElement('img');
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –æ—Ç –∫–æ—Ä–Ω—è vault
                icon.src = '/.obsidian/plugins/literary-templates/templates/icons/world.svg';
				icon.style.width = '20px';
                icon.style.height = '20px';
                icon.alt = '–°–æ–∑–¥–∞—Ç—å –º–∏—Ä';
                icon.onerror = () => {
                    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è –∫–Ω–æ–ø–∫–∏');
                    button.textContent = 'üåç'; // Fallback –Ω–∞ emoji
                };
                
                button.innerHTML = '';
                button.appendChild(icon);
                button.style.padding = '5px';
            });
        }, 1000);
    }

    // –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
    deconstructor() {
        console.log('ButtonIconManager deinitialized');
        this.initialized = false;
    }
}

// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º
const buttonIconManager = new ButtonIconManager();
buttonIconManager.init();