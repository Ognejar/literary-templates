---
# Добавлено: поддержка хронологии событий (history)
# history: массив событий с годом и описанием
---
created: "{{date}}"
name: "{{name}}"
aliases: ["{{name}}"]
type: "{{type}}"
tags: [artifact, {{typeLower}}]
owner: "{{owner}}"
location: "{{location}}"
powerLevel: "{{powerLevel}}"
rarity: "{{rarity}}"
activationMethod: "{{activationMethod}}"
image: "{{tagImage}}"
history:
  - year: 800
    event: "Создан артефакт"
  - year: 1200
    event: "Обнаружен археологами"
---

{{include:sections/Шапка.md}}

**Тип:** {{type}}  
**Уровень силы:** {{powerLevel}}  
**Редкость:** {{rarity}}  
**Способ активации:** {{activationMethod}}  

## Хронология
{{#each history}}
- {{year}}: {{event}}
{{/each}}

{{include:sections/Владение_и_расположение.md}}
{{include:sections/Описание.md}}
{{include:sections/Магические_свойства.md}}
{{include:sections/Ограничения_и_риски.md}}
{{include:sections/Особенности.md}}
{{include:sections/Способ_создания.md}}
{{include:sections/Обслуживание.md}}
{{include:sections/История.md}}

## Связанные сущности
{{#if relatedArtifact1}}
**Связанные артефакты:** [[{{relatedArtifact1}}]]{{#if relatedArtifact2}}, [[{{relatedArtifact2}}]]{{/if}}
{{/if}}

{{#if event1}}
**Связанные события:** [[{{event1}}]]
{{/if}}

{{#if character1}}
**Связанные персонажи:** [[{{character1}}]]{{#if character2}}, [[{{character2}}]]{{/if}}
{{/if}}

## Автоматические связи
### Владелец
```dataview
LIST FROM #people OR #character
WHERE (
    contains(file.outlinks, [[{{name}}]]) OR
    contains(file.tags, "{{name}}") OR
    regexmatch(file.text, "#{{name}}") OR
    regexmatch(file.text, "\\[\\[{{name}}(\\||\\]\])")
) AND file.name != this.file.name
```

### Местонахождение
```dataview
LIST FROM #place
WHERE (
    contains(file.outlinks, [[{{name}}]]) OR
    contains(file.tags, "{{name}}") OR
    regexmatch(file.text, "#{{name}}") OR
    regexmatch(file.text, "\\[\\[{{name}}(\\||\\]\])")
) AND file.name != this.file.name
```

### Связанные события
```dataview
LIST FROM #event
WHERE (
    contains(file.outlinks, [[{{name}}]]) OR
    contains(file.tags, "{{name}}") OR
    regexmatch(file.text, "#{{name}}") OR
    regexmatch(file.text, "\\[\\[{{name}}(\\||\\]\])")
) AND file.name != this.file.name
```