---
type: —Å—Ü–µ–Ω–∞
project: "{{projectName}}"
work: "{{workName}}"
chapter: "{{chapterName}}"
chapter_num: "{{chapterNum}}"
scene_num: "{{sceneNum}}"
created: "{{date}}"
plot_lines_lines: [{{plotLinesLines}}]
plot_lines_degree: [{{plotLinesDegree}}]
plot_lines_description: [{{plotLinesDescription}}]
tags: [—Å—Ü–µ–Ω–∞, —Ä—É–∫–æ–ø–∏—Å—å, –∞–∫—Ç–∏–≤–Ω—ã–π{{#if tags}}, {{tags}}{{/if}}]
characters: [{{characterTags}}]
locations: [{{locationTags}}]
---

# –°—Ü–µ–Ω–∞ {{sceneNum}}: {{sceneName}}

## –¢–µ–∫—Å—Ç —Å—Ü–µ–Ω—ã

–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å—Ü–µ–Ω—ã –∑–¥–µ—Å—å.
## –°–ª—É–∂–µ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

[[{{projectRoot}}/1_–†—É–∫–æ–ø–∏—Å—å/–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è/{{workName}}/{{workName}}.md|{{workName}}]] / [[{{projectRoot}}/1_–†—É–∫–æ–ø–∏—Å—å/–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è/{{workName}}/–ì–ª–∞–≤—ã/–ì–ª–∞–≤—ã|–ì–ª–∞–≤—ã]] / [[{{projectRoot}}/1_–†—É–∫–æ–ø–∏—Å—å/–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è/{{workName}}/–ì–ª–∞–≤—ã/–ì–ª–∞–≤–∞_{{chapterNum}}-{{chapterName}}/–ì–ª–∞–≤–∞_{{chapterNum}}-{{chapterName}}|–ì–ª–∞–≤–∞_{{chapterNum}}-{{chapterName}}]]

### –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
 
<div class="button-row">

```button
name üß©–î–æ–±–∞–≤–∏—Ç—å —Å—é–∂–µ—Ç–Ω—É—é –ª–∏–Ω–∏—é
type command
action Literary Templates: –í—Å—Ç–∞–≤–∏—Ç—å —Å—é–∂–µ—Ç–Ω—É—é –ª–∏–Ω–∏—é –≤ —Å—Ü–µ–Ω—É
```

```button
name üë§–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
type command
action Literary Templates: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ —Å—Ü–µ–Ω—É
```

```button
name üìç–î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é
type command
action Literary Templates: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é –≤ —Å—Ü–µ–Ω—É
```

</div>

> [!info]- –°–ø—Ä–∞–≤–∫–∞
> **–°—é–∂–µ—Ç–Ω—ã–µ –ª–∏–Ω–∏–∏, –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏ –ª–æ–∫–∞—Ü–∏–∏** –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ frontmatter —Ñ–∞–π–ª–∞.

> [!note]- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
> 
> ### –í—Å–µ —Å—Ü–µ–Ω—ã –≥–ª–∞–≤—ã
> ```dataview
> list from ""
> where startswith(file.folder, this.file.folder)
> and type = "—Å—Ü–µ–Ω–∞"
> sort scene_num
> ```
> 
> ### –í—Å–µ —Å—Ü–µ–Ω—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º
> ```dataview
> list from ""
> where contains(characters, this.characters[0])
> and type = "—Å—Ü–µ–Ω–∞"
> ```
> 
> ### –í—Å–µ —Å—Ü–µ–Ω—ã —Å—é–∂–µ—Ç–Ω–æ–π –ª–∏–Ω–∏–∏ (–≤–æ –≤—Å—ë–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏)
> ```dataviewjs
> const current = dv.current();
> const currentWork = current.work ?? current.file?.frontmatter?.work;
> const currentLinks = (current.file.outlinks || [])
>   .filter(l => l.path && l.path.endsWith("–°—é–∂–µ—Ç–Ω—ã–µ_–ª–∏–Ω–∏–∏.md") && l.subpath && l.subpath.startsWith("–¢–µ–º–∞"));
> 
> if (!currentLinks.length) {
>   dv.paragraph("–ù–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—é–∂–µ—Ç–Ω—ã–µ –ª–∏–Ω–∏–∏ –≤ —Ç–µ–∫—Å—Ç–µ —Å—Ü–µ–Ω—ã.");
> } else {
>   const scenes = dv.pages("")
>     .where(p => p.type === '—Å—Ü–µ–Ω–∞'
>       && (p.work ?? p.file?.frontmatter?.work) === currentWork
>       && Array.isArray(p.file?.outlinks)
>       && p.file.outlinks.some(l => currentLinks.some(t => l.path === t.path && l.subpath === t.subpath))
>     )
>     .sort(p => `${p.chapter_num ?? ''}-${p.scene_num ?? ''}`, 'asc');
> 
>   const groups = scenes.groupBy(p => p.chapter_num ?? '');
>   const sortedGroups = groups.sort(g => g.key, 'asc');
>   for (const g of sortedGroups) {
>     const rows = g.rows.array();
>     rows.sort((a,b) => String(a.scene_num ?? '').localeCompare(String(b.scene_num ?? '')));
>     dv.header(4, `–ì–ª–∞–≤–∞ ${g.key}`);
>     dv.list(rows.map(r => r.file.link));
>   }
> }
> ```
